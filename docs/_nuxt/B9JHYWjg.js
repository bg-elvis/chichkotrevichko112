import{_ as pe}from"./Cuj3xYME.js";import{_ as oe,e as Ce,v as Se,x as me,r as Le,I as $,y as Z,f as de,c as J,o as q,F as z,a as v,l as Ie,b as he,t as W,m as k,w as De}from"./BHE8st3U.js";const Q=async(e,l=!1)=>{const{Uint8ArrayWriter:s,ZipReader:R}=await oe(async()=>{const{Uint8ArrayWriter:t,ZipReader:T}=await import("./Cc99RUab.js");return{Uint8ArrayWriter:t,ZipReader:T}},[],import.meta.url),r=new Blob([e]).stream(1024),a=new R(r),E=[],n=await a.getEntries();for(const t of n){const T=new s,_=await t.getData(T);l?E.push({filename:t.filename,data:_.buffer}):E.push(_.buffer)}return E};var Y={},S={},h={},X={},x;function A(){return x||(x=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FLOAT_COMPRESSION_PRECISION=1e3,e.DATE_LOW_PRECISION=1e5,e.FLOAT_FULL_PRECISION_DELIMITER=",",e.FLOAT_REDUCED_PRECISION_DELIMITER=".",e.INTEGER_TOKEN="¢",e.FLOAT_TOKEN="£",e.STRING_TOKEN="¨",e.DATE_TOKEN="ø",e.LP_DATE_TOKEN="±",e.UNREFERENCED_INTEGER_TOKEN="¤",e.UNREFERENCED_FLOAT_TOKEN="¥",e.UNREFERENCED_STRING_TOKEN="´",e.UNREFERENCED_DATE_TOKEN="¿",e.UNREFERENCED_LP_DATE_TOKEN="ÿ",e.REF_INTEGER_TOKEN="º",e.REF_FLOAT_TOKEN="Ý",e.REF_STRING_TOKEN="ß",e.REF_DATE_TOKEN="×",e.REF_LP_DATE_TOKEN="ü",e.NULL_TOKEN="§",e.UNDEFINED_TOKEN="µ",e.BOOLEAN_TRUE_TOKEN="»",e.BOOLEAN_FALSE_TOKEN="«",e.ESCAPE_CHARACTER="\\",e.ESCAPED_STRING_TOKEN=""+e.ESCAPE_CHARACTER+e.STRING_TOKEN,e.ESCAPED_UNREFERENCED_STRING_TOKEN=""+e.ESCAPE_CHARACTER+e.UNREFERENCED_STRING_TOKEN,e.REGEX_ESCAPE_CHARACTER=new RegExp(e.ESCAPE_CHARACTER.replace("\\","\\\\"),"g"),e.REGEX_ESCAPED_ESCAPE_CHARACTER=new RegExp(e.ESCAPE_CHARACTER.replace("\\","\\\\")+e.ESCAPE_CHARACTER.replace("\\","\\\\"),"g"),e.REGEX_STRING_TOKEN=new RegExp(e.STRING_TOKEN,"g"),e.REGEX_ESCAPED_STRING_TOKEN=new RegExp(e.ESCAPE_CHARACTER+e.ESCAPED_STRING_TOKEN,"g"),e.REGEX_UNREFERENCED_STRING_TOKEN=new RegExp(e.UNREFERENCED_STRING_TOKEN,"g"),e.REGEX_UNREFERENCED_ESCAPED_STRING_TOKEN=new RegExp(e.ESCAPE_CHARACTER+e.ESCAPED_UNREFERENCED_STRING_TOKEN,"g"),e.DATE_REGEX=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?Z/,e.OBJECT_START_TOKEN="{",e.OBJECT_END_TOKEN="}",e.TEMPLATE_OBJECT_START="¦",e.TEMPLATE_OBJECT_END="‡",e.TEMPLATE_OBJECT_FINAL="—",e.ARRAY_START_TOKEN="|",e.ARRAY_END_TOKEN="÷",e.ARRAY_REPEAT_TOKEN="þ",e.ARRAY_REPEAT_MANY_TOKEN="^",e.ARRAY_REPEAT_COUNT_THRESHOLD=4,e.REFERENCE_HEADER_LENGTH=1,e.DELIMITING_TOKENS_THRESHOLD=122,e.STRING_IDENT_PREFIX="$",e.INTEGER_SMALL_EXCLUSIVE_BOUND_LOWER=-10,e.INTEGER_SMALL_EXCLUSIVE_BOUND_UPPER=10,e.INTEGER_SMALL_TOKEN_EXCLUSIVE_BOUND_LOWER=191,e.INTEGER_SMALL_TOKEN_EXCLUSIVE_BOUND_UPPER=211,e.INTEGER_SMALL_TOKEN_OFFSET=-201,e.INTEGER_SMALL_TOKEN_ELEMENT_OFFSET=9,e.INTEGER_SMALL_TOKENS=["À","Á","Â","Ã","Ä","Å","Æ","Ç","È","É","Ê","Ë","Ì","Í","Î","Ï","Ð","Ñ","Ò"]}(X)),X}var ee;function Pe(){if(ee)return h;ee=1,Object.defineProperty(h,"__esModule",{value:!0});var e=A();function l(s,R,i,r,a,E){var n=typeof i;n==="number"?s.number(s,R,i,r,a,E):n==="string"?s.string(s,R,i,r,a,E):n==="boolean"?a.write(i?e.BOOLEAN_TRUE_TOKEN:e.BOOLEAN_FALSE_TOKEN):i===null?a.write(e.NULL_TOKEN):i===void 0?a.write(e.UNDEFINED_TOKEN):Array.isArray(i)?s.array(s,R,i,r,a,E):i instanceof Date?s.date(s,R,i.getTime(),r,a,E):s.object(s,R,i,r,a,E)}return h.compressAny=l,h}var D={},p={},re;function j(){if(re)return p;re=1;var e=p&&p.__extends||function(){var R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)r.hasOwnProperty(a)&&(i[a]=r[a])};return function(i,r){R(i,r);function a(){this.constructor=i}i.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(p,"__esModule",{value:!0});var l=function(){function R(){}return R}();p.ZipsonWriter=l;var s=function(R){e(i,R);function i(){var r=R!==null&&R.apply(this,arguments)||this;return r.value="",r}return i.prototype.write=function(r){this.value+=r},i.prototype.end=function(){},i}(l);return p.ZipsonStringWriter=s,p}var o={},te;function d(){if(te)return o;te=1,Object.defineProperty(o,"__esModule",{value:!0});var e=A(),l=2147483648,s=-2147483649,R="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function i(n){if(n===0)return"0";for(var t="",T=n<0?-n:n,_=0,u;T>0;)T=T/62,u=T%1,_=u*62+.1<<0,T-=u,t=R[_]+t;return t=n<0?"-"+t:t,t}o.compressInteger=i;function r(n){var t=0;if(n[0]==="0")return t;for(var T=n[0]==="-",_=1,u=T?1:0,f=n.length-1;f>=u;f--){var c=n.charCodeAt(f),N=c-48;c>=97?N-=13:c>=65&&(N-=7),t+=N*_,_*=62}return T?-t:t}o.decompressInteger=r;function a(n,t){if(t===void 0&&(t=!1),t){var T=n.toString().split("."),_=T[0],u=T[1],f=_==="-0"?"-":"";return""+f+i(parseInt(_))+e.FLOAT_FULL_PRECISION_DELIMITER+u}else{var _=n>=l?Math.floor(n):n<=s?Math.ceil(n):n<<0,u=Math.round(e.FLOAT_COMPRESSION_PRECISION*(n%1));return""+i(_)+e.FLOAT_REDUCED_PRECISION_DELIMITER+i(u)}}o.compressFloat=a;function E(n){if(n.indexOf(e.FLOAT_FULL_PRECISION_DELIMITER)>-1){var t=n.split(e.FLOAT_FULL_PRECISION_DELIMITER),T=t[0],_=t[1],u=T==="-0"?-1:1,f=r(T);return u*parseFloat(f+"."+_)}else{var c=n.split(e.FLOAT_REDUCED_PRECISION_DELIMITER),T=c[0],_=c[1],f=r(T),N=r(_);return f+N/e.FLOAT_COMPRESSION_PRECISION}}return o.decompressFloat=E,o}var ne;function ye(){if(ne)return D;ne=1,Object.defineProperty(D,"__esModule",{value:!0});var e=A(),l=j(),s=d();function R(i,r,a,E,n,t){r.arrayLevel++,r.arrayLevel>r.arrayItemWriters.length&&r.arrayItemWriters.push(new l.ZipsonStringWriter);var T=r.arrayItemWriters[r.arrayLevel-1],_=r.arrayItemWriters[r.arrayLevel-2]||n;_.write(e.ARRAY_START_TOKEN);var u="",f=0,c=0,N=new i.template.Object(a[0],a[1]);N.isTemplating&&N.compressTemplate(i,r,E,_,t);for(var O=0;O<a.length;O++){var g=a[O];T.value="",g===void 0&&(g=null),O>1&&N.isTemplating&&N.isNextTemplateable(a[O],_),N.isTemplating?N.compressTemplateValues(i,r,E,T,t,a[O]):i.any(i,r,g,E,T,t),T.value===u?(f++,f>=e.ARRAY_REPEAT_COUNT_THRESHOLD?(c===0&&_.write(e.ARRAY_REPEAT_MANY_TOKEN),c++):_.write(e.ARRAY_REPEAT_TOKEN)):(f=0,c>0&&(_.write(s.compressInteger(c)),c=0),_.write(T.value),u=T.value)}c>0&&_.write(s.compressInteger(c)),N.isTemplating&&N.end(_),_.write(e.ARRAY_END_TOKEN),r.arrayLevel--}return D.compressArray=R,D}var P={},ae;function Ke(){if(ae)return P;ae=1,Object.defineProperty(P,"__esModule",{value:!0});var e=A(),l=d();function s(R,i,r,a,E,n){var t,T=e.STRING_IDENT_PREFIX+r;if(n.detectUtcTimestamps&&r[r.length-1]==="Z"&&r.match(e.DATE_REGEX)){var _=Date.parse(r);R.date(R,i,_,a,E,n)}else if((t=a.stringMap[T])!==void 0)E.write(""+e.REF_STRING_TOKEN+t);else{var u=l.compressInteger(a.stringCount),f=""+e.STRING_TOKEN+r.replace(e.REGEX_ESCAPE_CHARACTER,e.ESCAPE_CHARACTER+e.ESCAPE_CHARACTER).replace(e.REGEX_STRING_TOKEN,e.ESCAPED_STRING_TOKEN)+e.STRING_TOKEN;u.length+e.REFERENCE_HEADER_LENGTH+1<f.length?(a.stringMap[T]=u,a.stringCount++,E.write(f)):E.write(""+e.UNREFERENCED_STRING_TOKEN+r.replace(e.REGEX_ESCAPE_CHARACTER,e.ESCAPE_CHARACTER+e.ESCAPE_CHARACTER).replace(e.REGEX_UNREFERENCED_STRING_TOKEN,e.ESCAPED_UNREFERENCED_STRING_TOKEN)+e.UNREFERENCED_STRING_TOKEN)}}return P.compressString=s,P}var y={},Ee;function Me(){if(Ee)return y;Ee=1,Object.defineProperty(y,"__esModule",{value:!0});var e=A(),l=d();function s(R,i,r,a,E,n){var t;if(r%1===0)if(r<e.INTEGER_SMALL_EXCLUSIVE_BOUND_UPPER&&r>e.INTEGER_SMALL_EXCLUSIVE_BOUND_LOWER)E.write(e.INTEGER_SMALL_TOKENS[r+e.INTEGER_SMALL_TOKEN_ELEMENT_OFFSET]);else if((t=a.integerMap[r])!==void 0)E.write(""+e.REF_INTEGER_TOKEN+t);else{var T=l.compressInteger(a.integerCount),_=l.compressInteger(r),u=""+e.INTEGER_TOKEN+_;T.length+e.REFERENCE_HEADER_LENGTH<u.length?(a.integerMap[r]=T,a.integerCount++,E.write(u)):E.write(""+e.UNREFERENCED_INTEGER_TOKEN+_)}else{var f=l.compressFloat(r,n.fullPrecisionFloats);if((t=a.floatMap[f])!==void 0)E.write(""+e.REF_FLOAT_TOKEN+t);else{var T=l.compressInteger(a.floatCount),u=""+e.FLOAT_TOKEN+f;T.length+e.REFERENCE_HEADER_LENGTH<u.length?(a.floatMap[f]=T,a.floatCount++,E.write(u)):E.write(""+e.UNREFERENCED_FLOAT_TOKEN+f)}}}return y.compressNumber=s,y}var K={},Te;function Fe(){if(Te)return K;Te=1,Object.defineProperty(K,"__esModule",{value:!0});var e=A();function l(s,R,i,r,a,E){a.write(e.OBJECT_START_TOKEN);var n=Object.keys(i),t=new s.template.Object(i[n[0]],i[n[1]]);t.isTemplating&&t.compressTemplate(s,R,r,a,E);for(var T=0;T<n.length;T++)if(T>1&&t.isTemplating&&t.isNextTemplateable(i[n[T]],a),t.isTemplating)s.string(s,R,n[T],r,a,E),t.compressTemplateValues(s,R,r,a,E,i[n[T]]);else{var _=n[T],u=i[_];u!==void 0&&(s.string(s,R,_,r,a,E),s.any(s,R,u,r,a,E))}t.isTemplating&&t.end(a),a.write(e.OBJECT_END_TOKEN)}return K.compressObject=l,K}var M={},ie;function Ge(){if(ie)return M;ie=1,Object.defineProperty(M,"__esModule",{value:!0});var e=A(),l=d();function s(R,i,r,a,E,n){var t,T=r/e.DATE_LOW_PRECISION,_=T%1===0;if(_)if((t=a.lpDateMap[T])!==void 0)E.write(""+e.REF_LP_DATE_TOKEN+t);else{var u=l.compressInteger(a.lpDateCount),f=l.compressInteger(T),c=""+e.LP_DATE_TOKEN+f;u.length+e.REFERENCE_HEADER_LENGTH<c.length?(a.lpDateMap[T]=u,a.lpDateCount++,E.write(c)):E.write(""+e.UNREFERENCED_LP_DATE_TOKEN+f)}else if((t=a.dateMap[r])!==void 0)E.write(""+e.REF_DATE_TOKEN+t);else{var u=l.compressInteger(a.dateCount),f=l.compressInteger(r),c=""+e.DATE_TOKEN+f;u.length+e.REFERENCE_HEADER_LENGTH<c.length?(a.dateMap[r]=u,a.dateCount++,E.write(c)):E.write(""+e.UNREFERENCED_DATE_TOKEN+f)}}return M.compressDate=s,M}var F={},G={},_e;function Ue(){if(_e)return G;_e=1,Object.defineProperty(G,"__esModule",{value:!0});function e(l){var s=typeof l;return s==="number"||s==="string"||s==="boolean"||l===null||Array.isArray(l)||l instanceof Date?!1:l!==void 0}return G.isObject=e,G}var ue;function be(){if(ue)return F;ue=1,Object.defineProperty(F,"__esModule",{value:!0});var e=A(),l=Ue(),s=function(){function E(n,t){this.isTemplating=!1,this.struct=[],n!=null&&t!=null&&(this.isTemplating=R(n,t,this.struct))}return E.prototype.compressTemplate=function(n,t,T,_,u){r(n,t,T,_,u,this.struct)},E.prototype.compressTemplateValues=function(n,t,T,_,u,f){a(n,t,T,_,u,this.struct,f)},E.prototype.isNextTemplateable=function(n,t){this.isTemplating=i(this.struct,n),this.isTemplating||t.write(e.TEMPLATE_OBJECT_FINAL)},E.prototype.end=function(n){n.write(e.TEMPLATE_OBJECT_FINAL)},E}();F.TemplateObject=s;function R(E,n,t,T){if(T===void 0&&(T=0),T>6)return!1;var _=Object.keys(E),u=Object.keys(n);if(_.length!==u.length||_.length>10)return!1;_.sort(function(B,H){return B.localeCompare(H)}),u.sort(function(B,H){return B.localeCompare(H)});for(var f=0;f<_.length;f++){var c=_[f],N=u[f];if(c!==N)return!1;var O=E[c],g=n[N];if(l.isObject(O)){if(!l.isObject(g))return!1;var C=[];if(t.push([c,C]),!R(O,g,C,T+1))return!1}else{if(l.isObject(g))return!1;t.push([c])}}return T>0||l.isObject(E)}function i(E,n){if(!n||Object.keys(n).length!==E.length)return!1;for(var t=0;t<E.length;t++){var T=E[t][0],_=E[t].length>1;if(n[T]===void 0)return!1;if(_){var u=E[t];if(u[1],!i(E[t][1],n[T]))return!1}else if(l.isObject(n[T]))return!1}return!0}function r(E,n,t,T,_,u){T.write(e.TEMPLATE_OBJECT_START);for(var f=0;f<u.length;f++){var c=u[f][0],N=u[f].length>1;E.string(E,n,c,t,T,_),N&&r(E,n,t,T,_,u[f][1])}T.write(e.TEMPLATE_OBJECT_END)}function a(E,n,t,T,_,u,f){for(var c=0;c<u.length;c++){var N=u[c][0],O=f[N],g=u[c].length>1;g?a(E,n,t,T,_,u[c][1],O):E.any(E,n,O,t,T,_)}}return F}var le;function we(){if(le)return S;le=1,Object.defineProperty(S,"__esModule",{value:!0});var e=Pe(),l=ye(),s=Ke(),R=Me(),i=Fe(),r=Ge(),a=be(),E={any:e.compressAny,array:l.compressArray,object:i.compressObject,string:s.compressString,date:r.compressDate,number:R.compressNumber,template:{Object:a.TemplateObject}};function n(){return{arrayItemWriters:[],arrayLevel:0}}S.makeCompressContext=n;function t(){return{stringMap:{},integerMap:{},floatMap:{},dateMap:{},lpDateMap:{},stringCount:0,integerCount:0,floatCount:0,dateCount:0,lpDateCount:0}}S.makeInvertedIndex=t;function T(_,u,f,c,N){E.any(E,_,u,f,c,N)}return S.compress=T,S}var m={},V={},se;function I(){return se||(se=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SKIP_SCALAR={},function(l){l.ARRAY="ARRAY",l.OBJECT="OBJECT",l.SCALAR="SCALAR",l.TEMPLATE_OBJECT="TEMPLATE_OBJECT",l.TEMPLATE_OBJECT_PROPERTIES="TEMPLATE_OBJECT_PROPERTIES",l.TEMPLATE_OBJECT_ELEMENTS="TEMPLATE_OBJECT_ELEMENTS"}(e.TargetType||(e.TargetType={}))}(V)),V}var U={},b={},Re;function ve(){if(Re)return b;Re=1,Object.defineProperty(b,"__esModule",{value:!0});var e=A(),l=I(),s=d();function R(i,r,a,E){var n=a.index,t=a.index+1,T;if(i===e.STRING_TOKEN&&(T=e.STRING_TOKEN)||i===e.UNREFERENCED_STRING_TOKEN&&(T=e.UNREFERENCED_STRING_TOKEN)){for(var _=!0;_&&t<r.length;){t=r.indexOf(T,t);var u=1;for(_=!1;r[t-u]===e.ESCAPE_CHARACTER;)_=u%2===1,u++;t++}t<=n&&(t=r.length)}else for(;!(r.charCodeAt(t)>e.DELIMITING_TOKENS_THRESHOLD)&&t<r.length;)t++;if(!a.drain&&t===r.length)return l.SKIP_SCALAR;a.index=t-1;var f=i.charCodeAt(0);if(f>e.INTEGER_SMALL_TOKEN_EXCLUSIVE_BOUND_LOWER&&f<e.INTEGER_SMALL_TOKEN_EXCLUSIVE_BOUND_UPPER)return f+e.INTEGER_SMALL_TOKEN_OFFSET;if(i===e.ARRAY_REPEAT_MANY_TOKEN)return s.decompressInteger(r.substring(n+1,t));if(i===e.REF_STRING_TOKEN)return E.strings[s.decompressInteger(r.substring(n+1,t))];if(i===e.REF_INTEGER_TOKEN)return E.integers[s.decompressInteger(r.substring(n+1,t))];if(i===e.REF_FLOAT_TOKEN)return E.floats[s.decompressInteger(r.substring(n+1,t))];if(i===e.REF_DATE_TOKEN)return E.dates[s.decompressInteger(r.substring(n+1,t))];if(i===e.REF_LP_DATE_TOKEN)return E.lpDates[s.decompressInteger(r.substring(n+1,t))];if(i===e.STRING_TOKEN)return E.strings[E.strings.length]=r.substring(n+1,t-1).replace(e.REGEX_ESCAPED_ESCAPE_CHARACTER,e.ESCAPE_CHARACTER).replace(e.REGEX_ESCAPED_STRING_TOKEN,e.STRING_TOKEN);if(i===e.INTEGER_TOKEN)return E.integers[E.integers.length]=s.decompressInteger(r.substring(n+1,t));if(i===e.FLOAT_TOKEN)return E.floats[E.floats.length]=s.decompressFloat(r.substring(n+1,t));if(i===e.DATE_TOKEN)return E.dates[E.dates.length]=new Date(s.decompressInteger(r.substring(n+1,t))).toISOString();if(i===e.LP_DATE_TOKEN)return E.lpDates[E.lpDates.length]=new Date(e.DATE_LOW_PRECISION*s.decompressInteger(r.substring(n+1,t))).toISOString();if(i===e.UNREFERENCED_STRING_TOKEN)return r.substring(n+1,t-1).replace(e.REGEX_ESCAPED_ESCAPE_CHARACTER,e.ESCAPE_CHARACTER).replace(e.REGEX_UNREFERENCED_ESCAPED_STRING_TOKEN,e.UNREFERENCED_STRING_TOKEN);if(i===e.UNREFERENCED_INTEGER_TOKEN)return s.decompressInteger(r.substring(n+1,t));if(i===e.UNREFERENCED_FLOAT_TOKEN)return s.decompressFloat(r.substring(n+1,t));if(i===e.UNREFERENCED_DATE_TOKEN)return new Date(s.decompressInteger(r.substring(n+1,t))).toISOString();if(i===e.UNREFERENCED_LP_DATE_TOKEN)return new Date(e.DATE_LOW_PRECISION*s.decompressInteger(r.substring(n+1,t))).toISOString();if(i===e.BOOLEAN_TRUE_TOKEN)return!0;if(i===e.BOOLEAN_FALSE_TOKEN)return!1;if(i===e.NULL_TOKEN)return null;if(i===e.UNDEFINED_TOKEN)return;throw new Error("Unexpected scalar "+i+" at "+n+"-"+t)}return b.decompressScalar=R,b}var w={},L={},fe;function Be(){if(fe)return L;fe=1,Object.defineProperty(L,"__esModule",{value:!0});function e(R,i){for(var r=R.paths[R.currentPathIndex],a=0,E=R.currentObject;a<r.length-1;a++){var n=r[a];E=E[n]=E[n]||{}}i!==void 0&&(E[r[a]]=i)}function l(R,i){R.currentPathIndex===-1?R.value[i]=R.currentObject={}:e(R,i),++R.currentPathIndex===R.expectedPaths&&(R.currentPathIndex=-1)}L.appendTemplateObjectPropertiesValue=l;function s(R,i){R.currentPathIndex===0&&(R.currentObject={},R.value.push(R.currentObject)),e(R,i),++R.currentPathIndex===R.expectedPaths&&(R.currentPathIndex=0)}return L.appendTemplateObjectElementsValue=s,L}var ce;function He(){if(ce)return w;ce=1,Object.defineProperty(w,"__esModule",{value:!0});var e=A(),l=I(),s=ve(),R=Be();function i(r,a,E,n){var t;if(r===e.ARRAY_END_TOKEN||r===e.OBJECT_END_TOKEN)t=a.currentTarget.value,a.currentTarget=a.stack[a.pointer-1],a.pointer--;else if(t=s.decompressScalar(r,E,a,n),t===l.SKIP_SCALAR)return!1;return a.currentTarget.type===l.TargetType.SCALAR?a.currentTarget.value=t:a.currentTarget.type===l.TargetType.ARRAY?a.currentTarget.value[a.currentTarget.value.length]=t:a.currentTarget.type===l.TargetType.OBJECT?a.currentTarget.key!=null?(a.currentTarget.value[a.currentTarget.key]=t,a.currentTarget.key=void 0):a.currentTarget.key=t:a.currentTarget.type===l.TargetType.TEMPLATE_OBJECT?(a.currentTarget.currentToken=t,a.currentTarget.currentTokens.push(t)):a.currentTarget.type===l.TargetType.TEMPLATE_OBJECT_PROPERTIES?R.appendTemplateObjectPropertiesValue(a.currentTarget,t):a.currentTarget.type===l.TargetType.TEMPLATE_OBJECT_ELEMENTS&&R.appendTemplateObjectElementsValue(a.currentTarget,t),!0}return w.decompressElement=i,w}var Ne;function Je(){if(Ne)return U;Ne=1,Object.defineProperty(U,"__esModule",{value:!0});var e=A(),l=I(),s=ve(),R=He();function i(r,a,E){for(;r.index<a.length;r.index++){var n=a[r.index];if(n===e.ARRAY_START_TOKEN)r.currentTarget={type:l.TargetType.ARRAY,value:[]},r.stack[++r.pointer]=r.currentTarget;else if(n===e.OBJECT_START_TOKEN)r.currentTarget={type:l.TargetType.OBJECT,value:{}},r.stack[++r.pointer]=r.currentTarget;else if(n===e.ARRAY_REPEAT_TOKEN&&(r.currentTarget.type===l.TargetType.ARRAY||r.currentTarget.type===l.TargetType.TEMPLATE_OBJECT_ELEMENTS)){var t=r.currentTarget.value[r.currentTarget.value.length-1];r.currentTarget.value.push(t)}else if(n===e.ARRAY_REPEAT_MANY_TOKEN&&(r.currentTarget.type===l.TargetType.ARRAY||r.currentTarget.type===l.TargetType.TEMPLATE_OBJECT_ELEMENTS)){var T=s.decompressScalar(a[r.index],a,r,E);if(T===l.SKIP_SCALAR)return;for(var t=r.currentTarget.value[r.currentTarget.value.length-1],_=0;_<T;_++)r.currentTarget.value.push(t)}else if(n===e.TEMPLATE_OBJECT_START&&(r.currentTarget.type===l.TargetType.TEMPLATE_OBJECT||r.currentTarget.type===l.TargetType.OBJECT||r.currentTarget.type===l.TargetType.ARRAY))if(r.currentTarget.type!==l.TargetType.TEMPLATE_OBJECT){var u=r.currentTarget;r.currentTarget={type:l.TargetType.TEMPLATE_OBJECT,value:void 0,currentTokens:[],currentRoute:[],paths:[],level:0,parentTarget:u},r.stack[++r.pointer]=r.currentTarget}else{for(var _=0;_<r.currentTarget.currentTokens.length-1;_++){var f=r.currentTarget.currentTokens[_];r.currentTarget.paths[r.currentTarget.paths.length]=r.currentTarget.currentRoute.concat(f)}r.currentTarget.currentToken!=null&&r.currentTarget.currentRoute.push(r.currentTarget.currentToken),r.currentTarget.currentTokens=[],r.currentTarget.level++}else if(n===e.TEMPLATE_OBJECT_END&&r.currentTarget.type===l.TargetType.TEMPLATE_OBJECT){for(var _=0;_<r.currentTarget.currentTokens.length;_++){var f=r.currentTarget.currentTokens[_];r.currentTarget.paths[r.currentTarget.paths.length]=r.currentTarget.currentRoute.concat(f)}if(r.currentTarget.currentTokens=[],r.currentTarget.currentRoute=r.currentTarget.currentRoute.slice(0,-1),r.currentTarget.level--,r.currentTarget.level<0){var c=r.currentTarget.paths,u=r.currentTarget.parentTarget;r.pointer--,u.type===l.TargetType.ARRAY?r.currentTarget={type:l.TargetType.TEMPLATE_OBJECT_ELEMENTS,value:u.value,paths:c,currentPathIndex:0,expectedPaths:c.length,currentObject:{}}:u.type===l.TargetType.OBJECT&&(r.currentTarget={type:l.TargetType.TEMPLATE_OBJECT_PROPERTIES,value:u.value,paths:c,currentPathIndex:-1,expectedPaths:c.length,currentObject:{}}),r.stack[++r.pointer]=r.currentTarget}}else if(n===e.TEMPLATE_OBJECT_FINAL)r.currentTarget=r.stack[--r.pointer];else if(!R.decompressElement(n,r,a,E))return}}return U.decompressStages=i,U}var Oe;function qe(){if(Oe)return m;Oe=1,Object.defineProperty(m,"__esModule",{value:!0});var e=I(),l=Je();function s(){return{strings:[],integers:[],floats:[],dates:[],lpDates:[]}}m.makeOrderedIndex=s;function R(a){var E={type:e.TargetType.SCALAR,value:void 0},n=new Array(10);return n[0]=E,{index:0,rootTarget:E,stack:n,currentTarget:E,pointer:0,drain:a}}function i(a,E){var n=R(!0);return l.decompressStages(n,a,E),n.rootTarget.value}m.decompress=i;function r(a){var E=R(!1),n="";function t(T){if(T===null)E.drain=!0;else{if(T.length===0)return;n+=T}var _=E.index;l.decompressStages(E,n,a);var u=E.index-_;u>0&&(n=n.substring(u),E.index-=u)}return{increment:t,cursor:E}}return m.decompressIncremental=r,m}var ge;function We(){return ge||(ge=1,function(e){function l(t){for(var T in t)e.hasOwnProperty(T)||(e[T]=t[T])}Object.defineProperty(e,"__esModule",{value:!0});var s=we(),R=j(),i=qe();l(j()),l(I());function r(t){var T=i.makeOrderedIndex();return i.decompress(t,T)}e.parse=r;function a(){var t=i.makeOrderedIndex(),T=i.decompressIncremental(t),_=T.cursor,u=T.increment;return function(f){if(u(f),f===null)return _.rootTarget.value}}e.parseIncremental=a;function E(t,T,_){_===void 0&&(_={});var u=s.makeInvertedIndex(),f=s.makeCompressContext();s.compress(f,t,u,T,_),T.end()}e.stringifyTo=E;function n(t,T){var _=new R.ZipsonStringWriter;return E(t,_,T),_.value}e.stringify=n}(Y)),Y}var Ae=We();const ke={class:"overflow-y-auto overflow-x-hidden pb-5 px-3 h-full bg-white dark:bg-gray-800"},Ye={class:"border-gray-200 dark:border-gray-700"},Xe={class:"absolute pointer-events-none w-full left-5 top-[0rem] text-left text-sm font-light text-gray-900 dark:text-white"},Ve={class:"absolute pointer-events-none w-full right-5 top-[0rem] text-right text-sm font-light text-gray-900 dark:text-white"},je={class:"ml-3"},$e={class:"text-base font-medium"},Qe=Ce({__name:"navigation",props:["search","vectorInitialized"],emits:["files-progress","files-ready","vector-progress","vector-ready","on-navigate"],setup(e,{emit:l}){const{$router:s,$luxon:R,$xhr:i}=Se();me(()=>{var u;return(u=s.currentRoute.value.params.eml)==null?void 0:u[0]});const r=l;let a=[],E=[];const n=e,t=Le([]);$(()=>n.search,async(u,f)=>{const c=u.toLowerCase().split(" ").map(N=>N.trim()).filter(N=>!!N);if(c.length){const N=E.filter(O=>{for(const g of c)if(!O.c.includes(g))return!1;return!0}).map(O=>O.id);t.value=a.filter(O=>N.includes(O.id))}else t.value=a}),$(()=>n.vectorInitialized,async(u,f)=>{u&&!E.length&&_()});const T=async()=>{const u=await i("/data/files.bin",g=>{r("files-progress",Math.round(g))}),f=await Q(u),N=new TextDecoder("utf-8").decode(f[0]),O=Ae.parse(N);O.sort((g,C)=>new Date(C.d)-new Date(g.d)),O.forEach((g,C)=>g.i=C),a=O,t.value=O,Z(()=>r("files-ready"))},_=async()=>{const u=await i("/data/c.bin",g=>{r("vector-progress",Math.round(g))}),f=await Q(u),N=new TextDecoder("utf-8").decode(f[0]),O=Ae.parse(N);O.forEach(g=>g.c=g.c.toLowerCase()),E=O,Z(()=>r("vector-ready"))};return de(async()=>{await T()}),(u,f)=>{const c=pe;return q(),J(z,null,[v("div",ke,[v("ul",Ye,[(q(!0),J(z,null,Ie(k(t),(N,O)=>(q(),J("li",{class:"relative",key:N.id},[v("h6",Xe,W(N.i+1)+".",1),v("span",Ve,W(k(R).DateTime.fromISO(N.d).toLocaleString(k(R).DateTime.DATETIME_MED)),1),he(c,{to:`/eml/${N.c}/${N.id}`,onClick:f[0]||(f[0]=g=>r("on-navigate")),class:"flex items-center my-2 p-2 pt-5 text-gray-900 rounded-lg transition duration-75 hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-white group"},{default:De(()=>[v("div",je,[v("h5",$e,W(N.s||"Без заглавие"),1)])]),_:2},1032,["to"]),f[1]||(f[1]=v("hr",{class:"w-full"},null,-1))]))),128))])]),f[2]||(f[2]=v("div",{class:"hidden absolute bottom-0 left-0 justify-center p-4 space-x-4 w-full lg:flex bg-white dark:bg-gray-800 z-20"},null,-1))],64)}}});export{Qe as _};
